# srt-to-praat
<p align="center">
<img src="https://github.com/yeungpinghei/srt-to-praat/blob/main/figures/logo.png" alt="srt-to-praat" width="700">
</p>

**Latest Update (Aug 20, 2025):**

Batch processing added. Instead of converting one file at a time, you can now convert all SRT in a directory into Praat textGrid files.
<br>

This Python script converts .srt subtitle files to Praat .TextGrid files with extra features to accommodate .srt files generated by [whisper.cpp](https://github.com/ggerganov/whisper.cpp) and [whisperX](https://github.com/m-bain/whisperX). Unlike [SrtToTextgrid](https://github.com/rctatman/SrtToTextgrid/tree/master), it automatically adds silent intervals to .srt files and converts them to .TextGrid format in one go.

# Requirements
This script requires `pydub` and `inflect`. You can install them by entering the following commands in your Terminal/Command Prompt:
```
pip install pydub
```
```
pip install inflect
```

# Usage
Go to Terminal/Command Prompt and run one of the following commands depending on whether you want to process one file (single mode) or all files in a directory (batch mode):

**Single mode:**
```
python3 srt-to-praat.py single srt_input media_input tg_output csv_output -d -c
```

**Batch mode:**
```
python3 srt-to-praat.py batch srt_input media_input output -d -c
```
## Arguments
`srt_input`: Path to the input SRT file/directory.

`media_input`: Path to the input media file/directory. It serves to determine the total duration of the output TextGrid file. A wide range of media formats are supported.

**Video**: MXF, MKV, OGM, AVI, DivX, WMV, QuickTime, RealVideo, Mpeg-1, MPEG-2, MPEG-4, DVD-Video (VOB), DivX, XviD, MSMPEG4, ASP, H.264 (Mpeg-4 AVC)

**Audio**: OGG, MP3, WAV, RealAudio, AC3, DTS, AAC, M4A, AU, AIFF, Opus.

`output`: Path to where you want the TextGrids and CSV logs to be saved (batch mode).

`tg_output`: Path to the output .TextGrid file (single mode).

`csv_output`: Path to the output .csv file (single mode). The script generates a CSV file which logs all instances of consecutive uppercase letters and numbers in the subtitles. It is important to edit them out if you intend to use forced alignment tools like [Montreal Forced Aligner (MFA)](https://montreal-forced-aligner.readthedocs.io/) as they do not process acronyms and numbers properly.

## Options
`-d`, `--diarize` enables speaker diarization if each subtitle in your .srt file starts with the name of the speaker in the format `[SPEAKER_NAME]:` It gives each speaker a separate tier in the TextGrid file.

`-c`, `--convert-no` adds space in between consecutive uppercase letters (e.g., **SRT** → **S R T**) and converts numbers to English words (e.g., **25** → **twenty-five**). I recommend you to have this enabled if you intend to use forced alignment tools like MFA afterwards.

## Example
`example.srt` is a transcript generated by whisperX, and `example.wav` is the corresponding audio file. To convert it to a .TextGrid, you may enter
```
python3 srt-to-praat.py example.srt example.wav example.TextGrid example.csv -d -c
```
If you want to disable speaker diarization and number conversion, you may enter
```
python3 srt-to-praat.py example.srt example.wav example.TextGrid example.csv
```
