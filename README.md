# srt-to-praat
<p align="center">
<img src="https://github.com/yeungpinghei/srt-to-praat/blob/main/logo.png" alt="srt-to-praat" width="700">
</p>

This Python script converts .srt subtitle files to Praat .TextGrid files with extra features that accomodate .srt files generated by whisper.cpp and whisperX. Unlike [SrtToTextgrid](https://github.com/rctatman/SrtToTextgrid/tree/master), it automatically adds silent intervals to the .srt file and convert it to .TextGrid format in one go.

# Usage
Go to Terminal/Command Prompt and run the following command:
```
python3 srt_to_tg.py srt_input media_input tg_output csv_output -d -c
```
Replace the variables `srt_input` and `media_input with the directory and name of your SRT file and audio/video file.

Replace the variables `tg_output` and `csv_output` with the preferred names of our output .TextGrid and .csv files.
Thus script generates a CSV file which logs all instances of consecutive uppercase letters and numbers in the subtitles. It is important to edit them out if you intend to use forced alignment tools like [Montreal Forced Aligner](https://montreal-forced-aligner.readthedocs.io/) as they do not process acronyms and numbers properly.

# Options
`-d`, `--diarize` activates speaker diarization if each subtitle in your .srt file starts with the name of the speaker in the format `[SPEAKER_NAME]: ` It gives each speaker identified by whisperX a separate tier in the TextGrid file.

`-c`, `--convert-numbers` adds space in between consecutive uppercase letters (e.g., SRT → S R T) and converts numbers to English words (e.g., 25 → twenty-five).
